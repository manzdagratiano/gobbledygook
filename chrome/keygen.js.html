<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: keygen.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: keygen.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module      keygen
 * @overview    A set of functions to generate the salt "key".
 *
 * @author      Manjul Apratim (manjul.apratim@gmail.com)
 * @date        Dec 26, 2014
 *
 * @license     GNU General Public License v3 or Later
 * @copyright   Manjul Apratim, 2014, 2015
 */

"use strict";

// ========================================================================
// GLOBAL CONSTANTS

/**
 * @namespace
 * @summary A global namespace for miscellaneous "environment" variables.
 */
var KEYGEN_ENV              = {

    /**
     * @summary A "category" to log with, to identify which component
     *          the log is coming from.
     */
    logCategory             : "KEYGEN: "

};


/**
 * @namespace AttributesCodec
 * @summary A class to generate a "key" to create salts from domain names.
 */
var Keygen                  = {

    /**
     * @summary A function to generate the key used for creating salts
     *          from domain names. It uses the default singleton
     *          "sjcl.random" defined in the SJCL library for the prng,
     *          but overrides the default paranoia with 512 (level 8)
     *          instead of 256 (level 6).
     * @return  {string} The base64 encoded key for creating salts
     *          from domain names.
     */
    generate : function() {

        // Each 'word' is 4 bytes, so 512 bytes of random data
        // requires 128 words.
        var NUM_WORDS = 128;
        // Set the "paranoia" level to 512
        var PARANOIA = 8;
        var keyBits = "";
        try {
            // Generate the random data using "randomWords" from
            // the default singleton sjcl.random.
            // On modern browsers, this method just uses the
            // window.crypto API, which is a CSPRNG.
            keyBits = sjcl.random.randomWords(NUM_WORDS, PARANOIA);
        } catch(e) {
            // TODO: Use other "collectors" in SJCL to generate data
            // in the event the browser crypto API is not available.
            console.error(KEYGEN_ENV.logCategory + e);
            return;
        }

        return sjcl.codec.base64.fromBits(keyBits);
    }

};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Attributes.html">Attributes</a></li><li><a href="Hasher.html">Hasher</a></li></ul><h3>Namespaces</h3><ul><li><a href="AttributesCodec.html">AttributesCodec</a></li><li><a href="AUX_ENV.html">AUX_ENV</a></li><li><a href="DOM.html">DOM</a></li><li><a href="DOM.listeners.html">listeners</a></li><li><a href="DOM.togglers.html">togglers</a></li><li><a href="ENV.html">ENV</a></li><li><a href="HASHER_ENV.html">HASHER_ENV</a></li><li><a href="HTML.html">HTML</a></li><li><a href="KEYGEN_ENV.html">KEYGEN_ENV</a></li><li><a href="OPTIONS_DOM.html">OPTIONS_DOM</a></li><li><a href="OPTIONS_ENV.html">OPTIONS_ENV</a></li></ul><h3>Global</h3><ul><li><a href="global.html#finalize">finalize</a></li><li><a href="global.html#generateKey">generateKey</a></li><li><a href="global.html#restoreOptions">restoreOptions</a></li><li><a href="global.html#saveOptions">saveOptions</a></li><li><a href="global.html#Workhorse">Workhorse</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha9</a> on Mon Dec 29 2014 02:22:44 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
